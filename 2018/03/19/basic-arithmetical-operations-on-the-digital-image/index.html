<!DOCTYPE html>
<html lang="en">




<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  
  
  
  
    
  
      <title>Basic Arithmetical Operations on the Digital Image - Infinite.ft的博客</title>
  
  
  <meta name="description" content="">
  <meta name="author" content="infinite.ft">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Load scheme css -->
  <link rel="stylesheet" href="/css/lightgallery.css">
  





    <link rel="stylesheet" href="/css/taurus.css">
    
        <link rel="stylesheet" href="/css/scheme-taurus/animations.css">
    


  <!-- load font awesome 5 -->
  <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>

  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
  </script>
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script src="/js/social-share.min.js"></script>
    <script src="/js/theme.js"></script>

  <!-- include cookie.js -->
  
  

  <!-- include comment system code -->
  
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
  
  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

<link rel="stylesheet" href="/css/prism-duotone-light.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
<body style="display: flex; flex-direction: column; min-height: 100vh;">

 

<header id="header">
	<div class="header-title">
		
		<div class='header-logo'>
			<a href='/'>
				<img src='/images/avatar.png' />
			</a>
		</div>
		<div class='header-text'>
			<h1>
				<a href="/">Infinite.ft的博客</a>
			</h1>
			<subtitle>
				Hello
			</subtitle>
		</div>
		
	</div>
	<div id='header-nav'>
		



<nav id="nav">
	
	
		
			
		
		
			<div class='nav-item'>
				
					<div class="nav-name active_page">
				
					<a class='nav-link' href="/">
						<span>Home </span>
					</a>
				</div>
			</div>
		
	
	
	<div class='nav-item' id='nav-item-toc'>
		




<div class="toc-button" onclick='toggleTOC(event);' ontouchstart='toggleTOC(event);'>
    <img src="/images/icons/colorful-outlined/toc.svg" alt="">
</div>

	</div>
	
	<div class='nav-item' id='nav-item-archive'>
		
				<div class='nav-icon'>
				
			<a href="/archives/" title='Archives'>
			<img src="/images/icons/colorful-outlined/archive.svg" alt="">
			</a>
		</div>
	</div>
	<div class='nav-item' id='nav-item-search'>
		
		<div class='nav-icon'>
		
			<a href="/search/" title='Search'>
			<img src="/images/icons/colorful-outlined/search.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id='nav-item-more'>
		<div class="nav-icon">
				<a href='#' onclick='onClickMenuIcon(event);' ontouchstart='onClickMenuIcon(event);'>
				<img src="/images/icons/colorful-outlined/menu.svg" alt="">
				</a>
		</div>
		<div class="nav-more-menu">
		
			
			
				
			
				
			
				
			
		
			<div class='nav-more-item'>
					<div class="nav-name">
						<a class='nav-link' href="/">
							<span>Home</span>
						</a>
					</div>
			</div>
		
		
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/tech/">
						<span>Tech</span>
					</a>
				</div>
		</div>
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/mylife/">
						<span>Mylife</span>
					</a>
				</div>
		</div>
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/math/">
						<span>Math</span>
					</a>
				</div>
		</div>
		
	</div>
	</div>
</nav>

	</div>
</header>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div style="flex: 1;">
      <style>
    body {
        background-color: white;
    }
</style>









    
        
            
            
        
    









    
    
        
    

    
        
    









<article class="article" id="/2018/03/19/basic-arithmetical-operations-on-the-digital-image/" data-name='Basic Arithmetical Operations on the Digital Image' data-version="">

    <!-- Title -->
    <div class='article-header'>
         
         <h1 class='article-title'>
            <a href="/2018/03/19/basic-arithmetical-operations-on-the-digital-image/">
                Basic Arithmetical Operations on the Digital Image
            </a>
        </h1>
        <!-- TODO: support nested categories,display them nicely -->
        
        <ul class='article-categories'>
            
            
                <li><a href="/categories/tech/" data-no-instant>
                    <img src="/images/tech.svg" alt="tech" onerror='if(this.src != "/images/uncategorized.svg") this.src="/images/uncategorized.svg"' title='tech'/>
                </a></li>
            
        </ul>
        
    </div>
    
    <!-- Date and Author -->
    <div class='article-meta'>
    <ul>
            <li><i class='fa fa-calendar'></i> 2018-03-19</li>
            
            <li><i class="fa fa-user"></i> infinite.ft</li>
            
            <li><i class="fas fa-copyright"></i>
            
                
                
            
            
                <a href=https://creativecommons.org/licenses/by-nc-nd/4.0/>CC BY-NC-ND 4.0</a>
            
            </li>
    </ul>
    
<div class="tags">
	
		
			<label class='tag-1'><a href="/tags/digital-image-processing/">Digital image processing</a></label>
		
	
	</div>

    </div>
    <div class='article-cards'>
        <!-- Author Card -->
        <!---
        <div class='Card-article Card-author'>
            <div class='card-title'>
                <h3></h3>
            </div>
            <div class='card-content'>
                    <div class="author-meta">
                            <div class='author-figure'>
                                <img src="" alt="">
                            </div>
                            <div class='author-name'>
                                infinite.ft
                            </div>
                        </div>
                        <div class="author-ai">
                            <div class='author-intro'>
                                <!-- TODO: auto generating author description -->
                                <!-- 
                            </div>
                            <div class="author-articles">
                                <!-- TODO: auto generating author articles -->
                                <!-- <ul>
                                    <li>Article 1</li>
                                    <li>Article 2</li>
                                    <li>Article 3</li>
                                    <li>Article 4</li>
                                    <li>Article 5</li>
                                    <li>Article 6</li>
                                </ul>
                            </div>
                        </div>
            </div>
            
        </div> -->

        <!-- Visit Card -->
        <!-- <div class="Card-article Card-visit"> -->
            <!-- <div class="card-title">
  <h3>Post Visit</h3>
</div>
<div class="card-chart">
  <div id='chart-post-visit'></div>
</div> -->
        <!-- </div> -->
        
        <!-- Auto Excerpt Card -->
        <!-- <div class="Card-article Card-excerpt">
            <div class="card-title">
  <h3>Quick Read</h3>
</div>
<div class="card-text">
  <p id='text-post-summary'>Technically speaking, the digital image is just a bunch of numbers, in which number's values equally represent the pixel values. From the mathematical view, the digital image is just a matrix which is the same thing what you have learned in your mathematical class. Since the digital image is a...</p>
</div>
        </div> -->
    </div>
    
    <!-- Gallery -->
    <!-- TODO: add a slider to gallery -->
    

    <!-- Content -->
    <!-- TODO: support table of content -->
    <div class="article-toc" id='article-toc'>
        




<div class="toc-button" onclick='toggleTOC(event);' ontouchstart='toggleTOC(event);'>
    <img src="/images/icons/colorful-outlined/toc.svg" alt="">
</div>

    </div>
    <div class='article-content'>
    <p>Technically speaking, the digital image is just a bunch of numbers, in which number's values equally represent the pixel values. From the mathematical view, the digital image is just a matrix which is the same thing what you have learned in your mathematical class. Since the digital image is a matrix, there are a great many operations on the matrix. In a large sense, the core jobs of DIP are all about matrix manipulations. So in this blog, I am going to exemplify you three fundamental arithmetical operations of the digital images which contain <code>addition</code>, <code>subtraction</code> and <code>multiplication</code> .</p>
<h3 id="1-digital-image-addition"><strong>1.  Digital Image Addition</strong></h3>
<p>Addition of a digital image is very much similar to a matrix's addition, there you can add up two digital images , then produce the resulted image. The whole process can be simply written as the following formula:</p>
<p>$$h(x, y) = \alpha g(x,y) + \beta f(x,y)$$</p>
<p>$g(x,y), f(x,y)$ indicate the two input digital image, $h(x,y)$ is the resulted image, $x,y$ represent the coordination value of the pixel. But one thing should be noted, the factors of above formula $\alpha, \beta$ cannot be arbitrary value, as maximum value of each color channel in each image pixel is less than 256 and greater than 0(<em>here we assume  each color channel has  8 bit size</em>). they are constrained by the following formula.</p>
<p>$$\alpha + \beta = 1$$</p>
<p>On top of the addition of two digital images, we can also expand it to the multiple digital image addition, the form is similar as before.</p>
<p>$$h(x,y) = \sum_{i=1}^{n}{\alpha_ig_i(x,y)}$$</p>
<p>$${\sum_{i=1}^{n}{\alpha_i}} = 1$$</p>
<p>All the requirement knowledge  have been introduced , so let's take a closer look at the what looks like when adding up two digital images.</p>
<p>Given the two following images, then add them up, Guess what's the output will look like?</p>
<figure class="half">
<img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images_image_addition_11.png" width="400">
<center>Fig.1.   image_11.png</center>
<img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images_image_addition_12.png" width="400">
<center>Fig.2.  image_12.png</center>
</figure>
<pre class="line-numbers language-language-matlab"><code class="language-language-matlab">
img1 = imread('image_11.png');
img2 = imread('image_12.png');
% because the spatial size of 'image_addition_11.png' is geater than\
% 'image_addition_12.png',so it's necessary to resize it\
% when performing addition
result_img = 0.4*img1(:, 36:375, :) + 0.6*img2;
imwrite(result_img,'image_1112.png', 'png');
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>The result of above code is followed.</p>
<figure>
<img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images_image_addition_result2.png" width="400">
<center>Fig.3.  image_1112.png</center>
</figure>
<p><strong>Application</strong>:</p>
<ul>
<li>Image fusion</li>
<li>Camera double-exposure</li>
<li>Video Scene Transition</li>
</ul>
<hr>
<h3 id="2-digital-image-subtraction"><strong>2.Digital Image Subtraction</strong></h3>
<p>Like the addition, you can subtract one image from another image, then produce the subtracted image. The mechanism behind this is just the subtraction of corresponding pixels in two images.</p>
<p>$$r(x,y)  = g_1(x,y)  - g_2(x,y)$$</p>
<p>$r(x,y)$ is final output image. Now let's test it.</p>
<figure>
<center><img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images-image_21.png" width="400"></center>
<center>Fig.4.   image_21.png</center>
<center><img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images-image_22.png" width="400"></center>
<center>Fig.5.   image_22.png</center>
</figure>
<pre class="line-numbers language-language-matlab"><code class="language-language-matlab">
img1 = imread('image_21.png');
img2 = imread('image_22.png');
result_img = ((img1 - img2) + (img2 - img1))/2;
imwrite(result_img, 'image_2122.png', 'png');
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>After executing above code, the output looks like the following image.</p>
<figure>
<center><img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images-image_2122.png" width="400"></center>
<center>Fig.6.  image_2122.png</center>
</figure>
<p><strong>Applications</strong></p>
<ul>
<li>Motion Tracking &amp; Detection</li>
<li>Periodical Noise Reduction</li>
</ul>
<hr>
<h3 id="3-digital-image-multiplication"><strong>3. Digital Image Multiplication</strong></h3>
<p>Digital image multiplication likes multiplication between two numbers, the difference is that two operand is digital  image matrix rather than number.</p>
<p>$$ r(x, y) = g_1(x,y) \times g_2(x,y)$$</p>
<p>More general case, you can multiply multiple images, normally this makes no sense.</p>
<p>$$r(x,y) = \prod_{i=1}^{n}g_i(x,y),\space \space (i=1, \dots, n)$$</p>
<p>If you have ever implemented the multiplication of images with the above formulas, you necessarily get an unexpected output. So what's wrong? Since the maximum value of each pixel is less or equal than 255, when you perform multiplication of the images, the values of some pixels  is certainly larger than 255. To fix that, before your multiplication of images, you firstly need to normalize image's pixels. After you performed your images multiplication, it's also need to multiply your image with 255.</p>
<p>$$r(x, y) = (\frac{g_1(x,y)}{255} \times \frac{g_2(x,y)}{255}) \times 255$$</p>
<p>$$r(x,y) = 255 \times \prod_{i=1}^{n}{\frac{g_i(x,y)}{255}},\space \space(i=1,\dots,n)$$</p>
<p>Here is an example.</p>
<figure class="half">
<center>
<img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images-image_31.png" width="400">
</center>
<center>Fig.7.  image_31.png</center>
<center>
<img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images-image_32.png" width="400">
</center>
<center>Fig.8. image_32.png</center>
</figure>
<pre class="line-numbers language-language-matlab"><code class="language-language-matlab">
img1 = imread('image_31.png');
img2 = imread('image_32.png');
img1 = double(img1)/255;
img2 = double(img2)/255;
result_img = img1 .* img2;
result_img = uint8(result_img * 255);
imwrite(result_img,'image_3132.png', 'png');

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>The following is the output image</p>
<center>
<img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images-image_3132.png" width="400">
</center>
<center>Fig.9. image_3132.png</center>
<p><strong>Applications</strong></p>
<ul>
<li>Image Matting(like your photoshop)</li>
<li>Image Lightness Enhancement</li>
</ul>

    
    </div>
    
    
        
</article>
  </div>

  

<footer id='footer'>
    <div class='footer-copyright'>
        <div>
            <p> Copyright by <a href="">infinite.ft </a> @ 2018</p>
            <p>Designed by: <i class="fas fa-paint-brush"></i> <a href="https://moober.cn">Moober</a> and <i class="fas fa-graduation-cap"></i> <a href="https://qutang.github.io">Qu Tang</a> &bull; Theme: <a href="">Cutie 2.0.6-beta-Taurus</a> &bull; Powered by <a href="http://hexo.io">Hexo.</a></p>
        </div>
    </div>
    
    <div class='footer-social'>
        
            
                
                    <div class='footer-social-item'><a href='https://github.com/free-free' target='_blank' ><i class="fab fa-github fa-2x" aria-hidden="true"></i></a></div>
                
            
        
    </div>
</footer>

  <br>

  <div id="footer-nav">
		



<nav id="nav">
	
	
		
			
				
			
		
		
	
	
	<div class='nav-item' id='nav-item-toc'>
		




<div class="toc-button" onclick='toggleTOC(event);' ontouchstart='toggleTOC(event);'>
    <img src="/images/icons/colorful-outlined/toc.svg" alt="">
</div>

	</div>
	
	<div class='nav-item' id='nav-item-archive'>
		
				<div class='nav-icon'>
				
			<a href="/archives/" title='Archives'>
			<img src="/images/icons/colorful-outlined/archive.svg" alt="">
			</a>
		</div>
	</div>
	<div class='nav-item' id='nav-item-search'>
		
		<div class='nav-icon'>
		
			<a href="/search/" title='Search'>
			<img src="/images/icons/colorful-outlined/search.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id='nav-item-more'>
		<div class="nav-icon">
				<a href='#' onclick='onClickMenuIcon(event);' ontouchstart='onClickMenuIcon(event);'>
				<img src="/images/icons/colorful-outlined/menu.svg" alt="">
				</a>
		</div>
		<div class="nav-more-menu">
		
			
			
				
			
				
			
				
			
		
			<div class='nav-more-item'>
					<div class="nav-name">
						<a class='nav-link' href="/">
							<span>Home</span>
						</a>
					</div>
			</div>
		
		
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/tech/">
						<span>Tech</span>
					</a>
				</div>
		</div>
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/mylife/">
						<span>Mylife</span>
					</a>
				</div>
		</div>
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/math/">
						<span>Math</span>
					</a>
				</div>
		</div>
		
	</div>
	</div>
</nav>

	</div>

  



    







  <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
<script src="/js/lightgallery.min.js"></script>
<script src="/js/lg-zoom.min.js"></script>
<script type='text/javascript'>
    $(document).ready(function() {
        $("#lightgallery").lightGallery(); 
        $(".article-content img").each(function(){
            console.log($(this).attr('src'))
            $(this).attr('data-src', $(this).attr('src')).lightGallery({
                selector: 'this'
            })
        });
    });
</script>








<script src="/js/post.js"></script>

<script data-no-instant type='text/javascript'>
changeLayoutOnTouchScreen();


var post = new Post('', '');
        post.getCommentCount(window.location.pathname, function(count){
            $('#article-comment-count').text(count);
        });
        post.addVisitRecord(window.location.pathname, userip);
        post.getVisitCount(window.location.pathname, function(count){
            $('#article-visit-count').text(count);
        });
post.updatePostVersion(window.location.pathname);


</script>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
