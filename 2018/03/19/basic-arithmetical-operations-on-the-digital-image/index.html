<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  
  
  
  
    
  
      <title>Basic Arithmetical Operations on the Digital Image - Infinite.ft的博客</title>
  
  
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

  <link rel="stylesheet" href="/css/normalize.css">
<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/gridlex.min.css">
<link rel="stylesheet" href="/css/skeleton.css">
<link rel="stylesheet" href="/css/theme.css">
<link rel="stylesheet" href="/css/share.min.css">
<link rel="stylesheet" href="/css/lightgallery.css">

  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {inlineMath: [["$","$"],['\\(','\\)']]}
  });
  </script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script src="/js/social-share.min.js"></script>
    <script src="/js/theme.js"></script>

  <!-- include cookie.js -->
  
  

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

<link rel="stylesheet" href="/css/prism-atom-dark.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body style="display: flex; flex-direction: column; min-height: 100vh;">
  <header class="header">
	<div class="header-title">
		
			<div class='header-logo'><a href='/'>
				<img class='grow' src='/images/avatar.png' />
			</a></div>
			<div class='header-text' >
			    <h1>Infinite.ft的博客</h1>
				<p><small></small></p>
			</div>
		
	</div>
	<div id="header-menu-container">
		<nav class="menu">
	
		
	
	<div class='menu-item grow'>
		<div class='menu-icon'>
			<a href="/archives/">
			<img src="/images/archive.svg" alt="">
			</a>
		</div>
		<div class="menu-name">
			<a class='menu-link' href="/archives/">
				<span>Archives</span>
			</a>
		</div>
	</div>
	
	
		
		
			<div class='menu-item grow'>
			
				<div class='menu-icon'>
				<a href="/">
					<img src="/images/home.svg" alt="">
					</a>
					</div>
					
					<div class="menu-name">
						<a class='menu-link' href="/">
							<span>Home</span>
						</a>
					</div>
				</a>
			</div>
		
	
	<div class='menu-item grow'>
		<div class='menu-icon'>
			<a href="/search/">
			<img src="/images/search.svg" alt="">
			</a>
		</div>
		<div class="menu-name">
			<a class='menu-link' href="/search/">
				<span>Search</span>
			</a>
		</div>
	</div>
</nav>

	</div>
</header>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div style="flex: 1;">
      <style>
    body {
        background-color: white;
    }
</style>

<article class="article" id="/2018/03/19/basic-arithmetical-operations-on-the-digital-image/" data-name='Basic Arithmetical Operations on the Digital Image' data-version="">

    <!-- Title -->

    
        
            
                
                
            
        
    

    <div class='article-header'>
         
         <h1 class='article-title'>
            <a href="/2018/03/19/basic-arithmetical-operations-on-the-digital-image/">
                Basic Arithmetical Operations on the Digital Image
            </a>
        </h1>
        
        <ul class='article-categories'>
            
            
                <li><a href="/categories/tech/" data-no-instant>
                    <img src="/images/tech.svg" alt="tech" />
                </a></li>
            
        </ul>
        
    </div>
   
    <!-- Date and Author -->
    <p>
       	2018-03-19
        by infinite.ft
        
    </p>
    <p>
        

	
		<label><a href="/tags/digital-image-processing/">#Digital-image-processing</a></label>
	


    </p>
	<hr />

    <!-- Gallery -->
    
    

    <!-- Content -->
    <div class='article-content'>
    <p>Technically speaking, the digital image is just a bunch of numbers, in which number’s values equally represent the pixel values. From the mathematical view, the digital image is just a matrix which is the same thing what you have learned in your mathematical class. Since the digital image is a matrix, there are a great many operations on the matrix. In a large sense, the core jobs of DIP are all about matrix manipulations. So in this blog, I am going to exemplify you four fundamental arithmetical operations of the digital images which contain <code>addition</code>, <code>subtraction</code> and <code>multiplication</code> .</p>
<h3 id="1-Digital-Image-Addition"><a href="#1-Digital-Image-Addition" class="headerlink" title="1.  Digital Image Addition"></a><strong>1.  Digital Image Addition</strong></h3><p>Addition of a digital image is very much similar to a matrix’s addition, there you can add up two digital images , then produce the resulted image. The whole process can be simply written as the below formula:</p>
<script type="math/tex; mode=display">h(x, y) = \alpha g(x,y) + \beta f(x,y)</script><p>$g(x,y), f(x,y)$ indicate the two input digital image, $h(x,y)$ is the resulted image, $x,y$ represent the coordination value of the pixel. But one thing should be noted, the factors of above formula $\alpha, \beta$ cannot be arbitrary value, as maximum value of each color channel in each image pixel is less than 255 and greater than 0(<em>here we assume  each color channel has  8 bit size</em>). they are constrained by the following formula.</p>
<script type="math/tex; mode=display">\alpha + \beta = 1</script><p>On top of the addition of two digital images, we can also extend it to the multiple digital image addition, the form is similar as before.</p>
<script type="math/tex; mode=display">h(x,y) = \sum_{i=1}^{n}{\alpha_ig_i(x,y)}</script><script type="math/tex; mode=display">{\sum_{i=1}^{n}{\alpha_i}} = 1</script><p>All the requirement knowledge  have been introduced before, so let’s take a closer look at the what looks like when adding up two digital images.</p>
<p>Given the two following images, then add them up.</p>
<figure class="half">

<img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images_image_addition_11.png" width="400">

<center>Fig.1.   image_11.png</center>

<img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images_image_addition_12.png" width="400">

<center>Fig.2.  image_12.png</center>

</figure>

<pre class="line-numbers language-lang-matlab"><code class="language-lang-matlab">
img1 = imread('image_11.png');
img2 = imread('image_12.png');
% because the spatial size of 'image_addition_11.png' is geater than\
% 'image_addition_12.png',so it's necessary to resize it\
% when performing addition
result_img = 0.4*img1(:, 36:375, :) + 0.6*img2;
imwrite(result_img,'image_1112.png', 'png');
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>The result of above code is followed.</p>
<figure>

<img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images_image_addition_result2.png" width="400">

<center>Fig.3.  image_1112.png</center>

</figure>



<p><strong>Application</strong>:  </p>
<ul>
<li>Image fusion</li>
<li>Camera double-exposure</li>
<li>Video Scene Transition</li>
</ul>
<hr>
<h3 id="2-Digital-Image-Subtraction"><a href="#2-Digital-Image-Subtraction" class="headerlink" title="2.Digital Image Subtraction"></a><strong>2.Digital Image Subtraction</strong></h3><p>Like the addition, you can subtract one image from another image, then produce the subtracted image. The mechanism beside this is just the subtraction of corresponding pixels in two images.</p>
<script type="math/tex; mode=display">r(x,y)  = g_1(x,y)  - g_2(x,y)</script><p>$r(x,y)$ is final output image. Now let’s test it.</p>
<figure>

<center><img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images-image_21.png" width="400"></center>

<center>Fig.4.   image_21.png</center>



<center><img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images-image_22.png" width="400"></center>

<center>Fig.5.   image_22.png</center>

</figure>



<pre class="line-numbers language-lang-matlab"><code class="language-lang-matlab">
img1 = imread('image_21.png');
img2 = imread('image_22.png');
result_img = ((img1 - img2) + (img2 - img1))/2;
imwrite(result_img, 'image_2122.png', 'png');
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>After executing above code, the output looks like the following image.</p>
<figure>

<center><img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images-image_2122.png" width="400"></center>

<center>Fig.6.  image_2122.png</center>

</figure>



<p><strong>Applications</strong></p>
<ul>
<li>Motion Tracking &amp; Detection</li>
<li>Periodical Noise Reduction</li>
</ul>
<hr>
<h3 id="3-Digital-Image-Multiplication"><a href="#3-Digital-Image-Multiplication" class="headerlink" title="3. Digital Image Multiplication"></a><strong>3. Digital Image Multiplication</strong></h3><p>Digital image multiplication likes multiplication between two numbers, the difference is that two operand is digital  image matrix rather than number.</p>
<script type="math/tex; mode=display">r(x, y) = g_1(x,y) \times g_2(x,y)</script><p>More general case, you can multiply multiple images, but normal this makes no sense.</p>
<script type="math/tex; mode=display">r(x,y) = \prod_{i=1}^{n}g_i(x,y),\space \space (i=1, \dots, n)</script><p>If you ever implemented the multiplication of images with the above formulas, you necessarily get an unexpected output. So what’s wrong? Since the maximum value of each pixel is less or equal than 255, when you perform multiplication of images, the values of some pixels  is certainly larger than 255. To fix that, before your multiplication of images, you firstly need to normalize images. After you performed your images multiplication, it’s also need to multiply your image with 255.</p>
<script type="math/tex; mode=display">r(x, y) = (\frac{g_1(x,y)}{255} \times \frac{g_2(x,y)}{255}) \times 255</script><script type="math/tex; mode=display">r(x,y) = 255 \times \prod_{i=1}^{n}{\frac{g_i(x,y)}{255}},\space \space(i=1,\dots,n)</script><p>Here is an example.</p>
<figure class="half">

<center>

<img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images-image_31.png" width="400">

</center>

<center>Fig.7.  image_31.png</center>



<center>

<img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images-image_32.png" width="400">

</center>

<center>Fig.8. image_32.png</center>

</figure>



<pre class="line-numbers language-lang-matlab"><code class="language-lang-matlab">
img1 = imread('image_31.png');
img2 = imread('image_32.png');
img1 = double(img1)/255;
img2 = double(img2)/255;
result_img = img1 .* img2;
result_img = uint8(result_img * 255);
imwrite(result_img,'image_3132.png', 'png');
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>The following is the output image</p>
<center>

<img src="http://oy4cno18k.bkt.clouddn.com/basic-arithmetical-operations-on-digital-images-image_3132.png" width="400">

</center>

<center>Fig.9. image_3132.png</center>



<p><strong>Applications</strong></p>
<ul>
<li>Image Matting(like your photoshop)</li>
<li>Image Lightness Enhancement</li>
</ul>

    </div>
    <hr />

    <h2>Share and comment</h2>
    <div class="social-share"></div>
    
        <div id="disqus_thread"></div>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    

    
    
</article>
  </div>

  <footer class='footer'>
    <div class='footer-logo'>
        <span>infinite.ft</span>
    </div>
    <div class='footer-social'>
        
        
            
                
                    <div class='footer-social-item'><a href='https://www.facebook.com/huang.biao.77' target='_blank' title='Find me on facebook' ><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a></div>
                
            
                
                    <div class='footer-social-item'><a href='https://twitter.com/19941222hb' target='_blank' title='Find me on twitter' ><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a></div>
                
            
                
                    <div class='footer-social-item'><a href='mailto:infinite.ft@gmail.com' target='_blank' title='Find me on mail' ><i class="fa fa-mail fa-2x" aria-hidden="true"></i></a></div>
                
            
        
    </div>
    <p> Copyright by <a href="">@infinite.ft</a> in 2018</p>
    <p> Icons by <a href="http://www.freepik.com" title="Freepik">Freepik</a> from <a href="http://www.flaticon.com" title="Flaticon">Flaticon</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0</a></p>
    <p>Theme <a href="http://qutang.github.io/2017/06/27/Hexo-theme-cutie/">Cutie 1.0.0</a> | Powered by <a href="http://hexo.io">Hexo.</a></p>
</footer>

  <br>

  <div id="footer-menu-container">
		<nav class="menu">
	
		
	
	<div class='menu-item grow'>
		<div class='menu-icon'>
			<a href="/archives/">
			<img src="/images/archive.svg" alt="">
			</a>
		</div>
		<div class="menu-name">
			<a class='menu-link' href="/archives/">
				<span>Archives</span>
			</a>
		</div>
	</div>
	
	
		
		
			<div class='menu-item grow'>
			
				<div class='menu-icon'>
				<a href="/">
					<img src="/images/home.svg" alt="">
					</a>
					</div>
					
					<div class="menu-name">
						<a class='menu-link' href="/">
							<span>Home</span>
						</a>
					</div>
				</a>
			</div>
		
	
	<div class='menu-item grow'>
		<div class='menu-icon'>
			<a href="/search/">
			<img src="/images/search.svg" alt="">
			</a>
		</div>
		<div class="menu-name">
			<a class='menu-link' href="/search/">
				<span>Search</span>
			</a>
		</div>
	</div>
</nav>

	</div>

  <script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://qutang-github-io.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>

<script src="/js/lightgallery.min.js"></script>
<script type='text/javascript'>
    lightGallery(document.getElementById('lightgallery'));
</script>

<script data-no-instant type='text/javascript'>
changeLayoutOnTouchScreen();
setVersionForCurrentPage();
setVersionBadgeForIndexPages();
</script>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
