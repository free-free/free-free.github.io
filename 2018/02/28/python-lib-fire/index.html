<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  
  
  
  
    
  
      <title>Create CLIs in Python Using Fire - Infinite.ft的博客</title>
  
  
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

  <link rel="stylesheet" href="/css/normalize.css">
<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/gridlex.min.css">
<link rel="stylesheet" href="/css/skeleton.css">
<link rel="stylesheet" href="/css/theme.css">
<link rel="stylesheet" href="/css/share.min.css">
<link rel="stylesheet" href="/css/lightgallery.css">

  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
  </script>
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script src="/js/social-share.min.js"></script>
    <script src="/js/theme.js"></script>

  <!-- include cookie.js -->
  
  

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

<link rel="stylesheet" href="/css/prism-atom-dark.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
<body style="display: flex; flex-direction: column; min-height: 100vh;">
  <header class="header">
	<div class="header-title">
		
			<div class='header-logo'><a href='/'>
				<img class='grow' src='/images/avatar.png' />
			</a></div>
			<div class='header-text' >
			    <h1>Infinite.ft的博客</h1>
				<p><small></small></p>
			</div>
		
	</div>
	<div id="header-menu-container">
		<nav class="menu">
	
		
	
	<div class='menu-item grow'>
		<div class='menu-icon'>
			<a href="/archives/">
			<img src="/images/archive.svg" alt="">
			</a>
		</div>
		<div class="menu-name">
			<a class='menu-link' href="/archives/">
				<span>Archives</span>
			</a>
		</div>
	</div>
	
	
		
		
			<div class='menu-item grow'>
			
				<div class='menu-icon'>
				<a href="/">
					<img src="/images/home.svg" alt="">
					</a>
					</div>
					
					<div class="menu-name">
						<a class='menu-link' href="/">
							<span>Home</span>
						</a>
					</div>
				</a>
			</div>
		
	
	<div class='menu-item grow'>
		<div class='menu-icon'>
			<a href="/search/">
			<img src="/images/search.svg" alt="">
			</a>
		</div>
		<div class="menu-name">
			<a class='menu-link' href="/search/">
				<span>Search</span>
			</a>
		</div>
	</div>
</nav>

	</div>
</header>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div style="flex: 1;">
      <style>
    body {
        background-color: white;
    }
</style>

<article class="article" id="/2018/02/28/python-lib-fire/" data-name='Create CLIs in Python Using Fire' data-version="">

    <!-- Title -->

    
        
            
                
                
            
        
    

    <div class='article-header'>
         
         <h1 class='article-title'>
            <a href="/2018/02/28/python-lib-fire/">
                Create CLIs in Python Using Fire
            </a>
        </h1>
        
        <ul class='article-categories'>
            
            
                <li><a href="/categories/tech/" data-no-instant>
                    <img src="/images/tech.svg" alt="tech" />
                </a></li>
            
        </ul>
        
    </div>
   
    <!-- Date and Author -->
    <p>
       	2018-02-28
        by infinite.ft
        
    </p>
    <p>
        

	
		<label><a href="/tags/python/">#Python</a></label>
	


    </p>
	<hr />

    <!-- Gallery -->
    
    

    <!-- Content -->
    <div class='article-content'>
    <p>In 2018 early, Google open-source it’s one of new Python library called <a href="https://github.com/google/python-fire" target="_blank" rel="external"><strong>Fire</strong></a>. <strong>Fire</strong> is a powerful tool to automatically generate command line interfaces(CLIs) from any Python object. With it’s assistance, you can easily transition between Bash and Python, also develop and debug your Python code. That’s why here I choose it. </p>
<h4 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h4><p>Like other Python library, The installation of <strong>Fire</strong> is very simple and clear. You just need to type the following command in your bash interface, then it will automatically finish.</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ pip install fire
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="Usage-Exmaples"><a href="#Usage-Exmaples" class="headerlink" title="Usage Exmaples"></a>Usage Exmaples</h4><h5 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h5><p><strong>version1: <code>fire.Fire()</code></strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#@file: hello.py</span>
<span class="token keyword">import</span> fire
<span class="token keyword">def</span> <span class="token function">say_hello</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">"Hello {name}"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token operator">=</span>name<span class="token punctuation">)</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    fire<span class="token punctuation">.</span>Fire<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Here expose  <code>say_hello</code> function to command line,so you can call it in your bash like the following manner.</p>
<pre class="line-numbers language-bash"><code class="language-bash">$ python hello.py say_hello john
Hello john
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>version2: <code>fire.Fire(&lt;fn&gt;)</code></strong></p>
<p>Besides call <code>fire.Fire()</code> directly, also you can pass a function to it. Doing this,  it will be slightly different when you call it in your bash shell command line.</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#file: hello.py</span>
<span class="token keyword">import</span> fire

<span class="token keyword">def</span> <span class="token function">say_hello</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token string">"Hello {name}"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token operator">=</span>name<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
      fire<span class="token punctuation">.</span>Fire<span class="token punctuation">(</span>say_hello<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell"><code class="language-shell">$ python hello.py john
Hello john
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<hr>
<h5 id="Multiple-commands"><a href="#Multiple-commands" class="headerlink" title="Multiple commands"></a>Multiple commands</h5><p>In the previous section, we just have one function totally, it’s hard to show you the power of <strong>fire</strong>. In this section, multiple commands will be introduced. </p>
<p><strong>version 1:<code>fire.Fire()</code></strong></p>
<p>Like the <code>hello world</code> example, here you also can write multiple function , then call it directly in your bash shell.</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#@file: mcmds.py</span>
<span class="token keyword">import</span> fire
<span class="token keyword">import</span> functools

<span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y

<span class="token keyword">def</span> <span class="token function">cumsum</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> functools<span class="token punctuation">.</span>reduce<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span>y<span class="token punctuation">:</span> x <span class="token operator">+</span> y<span class="token punctuation">,</span> args<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    fire<span class="token punctuation">.</span>Fire<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-bash"><code class="language-bash">$ python mcmds.py cumsum 1 2 3 4
10
$ python mcmds.py add 12 32
44
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>version 2: <code>fire.Fire(&lt;dict&gt;)</code></strong></p>
<p>If you intend to expose your function as a different name, this version may be suitable for you.</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#@file: mcmds.py</span>
<span class="token keyword">import</span> fire
<span class="token keyword">import</span> functools

<span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> x <span class="token operator">+</span> y

<span class="token keyword">def</span> <span class="token function">cumsum</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> functools<span class="token punctuation">.</span>reduce<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> x <span class="token operator">+</span> y<span class="token punctuation">,</span> args<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    fire<span class="token punctuation">.</span>Fire<span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token string">'add'</span><span class="token punctuation">:</span>add<span class="token punctuation">,</span>
          <span class="token string">'cumsum'</span><span class="token punctuation">:</span> cumsum
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-bash"><code class="language-bash">$ python mcmds.py add 10 32
44
$ python mcmds.py cumsum 1 2 3 4
10
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>version 3: <code>fire.Fire(&lt;object&gt;)</code></strong></p>
<p>As shown by the previous examples,  they are all functions,  if you are going to expose your object’s method as a command line . Is there all solution for satisfying your demands? </p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#@file: hello.py</span>
<span class="token keyword">import</span> fire
<span class="token keyword">import</span> functools

<span class="token keyword">class</span> <span class="token class-name">Calculator</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> x <span class="token operator">+</span> y

    <span class="token keyword">def</span> <span class="token function">cumsum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> functools<span class="token punctuation">.</span>reduce<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> x <span class="token operator">+</span> y<span class="token punctuation">,</span> args<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    calc <span class="token operator">=</span> Calculator<span class="token punctuation">(</span><span class="token punctuation">)</span>
    fire<span class="token punctuation">.</span>Fire<span class="token punctuation">(</span>calc<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-bash"><code class="language-bash">$ python hello.py add 10 10
20
$ python hello.py cumsum 10 1 2 3 4 
20
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>version 4: <code>fire.Fire(&lt;class&gt;)</code></strong></p>
<p>The one of difference between version 3 and version 4 is that you can pass arguments for constructing the class. </p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#@file: hello.py</span>
<span class="token keyword">import</span> fire

<span class="token keyword">class</span> <span class="token class-name">IntNumber</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> initial_value <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_ival <span class="token operator">=</span> initial_value

    <span class="token keyword">def</span> <span class="token function">plus</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_ival <span class="token operator">+</span> x

    <span class="token keyword">def</span> <span class="token function">times</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_ival <span class="token operator">*</span> x


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    fire<span class="token punctuation">.</span>Fire<span class="token punctuation">(</span>IntNumber<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>The arguments to <code>__init__</code> method must be passed with the –flag syntax, like the following usage.</p>
<pre class="line-numbers language-bash"><code class="language-bash">$ python hello.py plus 10
11
$ python hello.py <span class="token function">times</span> 10
10
$ python hello.py plus 10 --initial_value<span class="token operator">=</span>10
20
$ python hello.py <span class="token function">times</span> 10 --initial_value<span class="token operator">=</span>0 <span class="token comment" spellcheck="true"># here you pass initial value to init method using --falg syntax </span>
0
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h5 id="Grouping-Commands"><a href="#Grouping-Commands" class="headerlink" title="Grouping Commands"></a>Grouping Commands</h5><p>In addition, you can make a command line interface with grouped commands, like the below.</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#@file: hello.py</span>
<span class="token keyword">import</span> fire

<span class="token keyword">class</span> <span class="token class-name">RobotLeg</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">"The leg is moving forward!"</span>

    <span class="token keyword">def</span> <span class="token function">state</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span>  <span class="token string">"The leg is active!"</span>

<span class="token keyword">class</span> <span class="token class-name">RobotArm</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">"The arm is moving!"</span>

    <span class="token keyword">def</span> <span class="token function">state</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">"The arm is active!"</span>


<span class="token keyword">class</span> <span class="token class-name">Robot</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>arm <span class="token operator">=</span> RobotArm<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>leg <span class="token operator">=</span> RobotLeg<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>arm<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>leg<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token triple-quoted-string string">"""
    # also can you define 'run' function as a generator, it works samely!
    def run(self):
          yield self.arm.run()
        yield self.leg.run()
    """</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    fire<span class="token punctuation">.</span>Fire<span class="token punctuation">(</span>Robot<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Here’s how this looks at the command line:</p>
<pre class="line-numbers language-bash"><code class="language-bash">$ python hello.py run
The arm is moving<span class="token operator">!</span>
The leg is moving forward<span class="token operator">!</span>
$ python hello.py arm run
The arm is moving<span class="token operator">!</span>
$ python hello.py arm state
The arm is active<span class="token operator">!</span>
$ python hello.py leg run
The leg is moving forward<span class="token operator">!</span>
$ python hello.py leg state
The leg is active<span class="token operator">!</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h5 id="Accessing-Properties"><a href="#Accessing-Properties" class="headerlink" title="Accessing Properties"></a>Accessing Properties</h5><p>Accessing Properties of object is much necessary and useful, as you expose the specific object to the command line.</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#@file: hello.py</span>
<span class="token keyword">import</span> fire

<span class="token keyword">class</span> <span class="token class-name">City</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> postal_code<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"paradise"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>pcode <span class="token operator">=</span> postal_code
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    fire<span class="token punctuation">.</span>Fire<span class="token punctuation">(</span>City<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-bash"><code class="language-bash">$ python hello.py --postal_code<span class="token operator">=</span>521002 pcode
521002
$ python hello.py --postal_code<span class="token operator">=</span>512002 name
paradise
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h5 id="Chaining-Function-Calls"><a href="#Chaining-Function-Calls" class="headerlink" title="Chaining Function Calls"></a>Chaining Function Calls</h5><p>When you call a <strong>Fire</strong> command, the same action you can take on the <em>result</em> of the call to <strong>Fire</strong>. For example:</p>
<pre class="line-numbers language-bash"><code class="language-bash">$ python hello.py --postal_code<span class="token operator">=</span>521000 name upper
PARADISE
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>The above code works because the <code>upper</code> is a method on all strings. </p>
<p>So, if you want to set up your functions to chain nicely, all you have to do is have a class whose methods return self. An example is following.(tip: this example is taken from official document).</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#@file: hello.py</span>
<span class="token keyword">import</span> fire


<span class="token keyword">class</span> <span class="token class-name">BinaryCanvas</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>pixels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> size <span class="token keyword">for</span> _ <span class="token keyword">in</span> range<span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>_size <span class="token operator">=</span> size
        self<span class="token punctuation">.</span>_row <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>_col <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'\r\n'</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>str<span class="token punctuation">(</span>pixel<span class="token punctuation">)</span> <span class="token keyword">for</span> pixel <span class="token keyword">in</span> row<span class="token punctuation">)</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> self<span class="token punctuation">.</span>pixels<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">show</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_row <span class="token operator">=</span> row <span class="token operator">%</span> self<span class="token punctuation">.</span>_size
        self<span class="token punctuation">.</span>_col <span class="token operator">=</span> col <span class="token operator">%</span> self<span class="token punctuation">.</span>_size
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">on</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">off</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">set</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>pixels<span class="token punctuation">[</span>self<span class="token punctuation">.</span>_row<span class="token punctuation">]</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>_col<span class="token punctuation">]</span> <span class="token operator">=</span> value
        <span class="token keyword">return</span> self


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    fire<span class="token punctuation">.</span>Fire<span class="token punctuation">(</span>BinaryCanvas<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-bash"><code class="language-bash">$ python hello.py move 3 3 on move 3 6 on move 6 3 on move 6 6 on move 7 4 move 7 5 on __str__
0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0
0 0 0 1 0 0 1 0 0 0
0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0
0 0 0 1 0 0 1 0 0 0
0 0 0 0 0 1 0 0 0 0
0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h5 id="Passing-Arguments-To-Function"><a href="#Passing-Arguments-To-Function" class="headerlink" title="Passing Arguments To Function"></a>Passing Arguments To Function</h5><p>Except positional argument can be passed , as you run a function at command line, also you can pass argument by using flag syntax, like the arguments to <code>__init__</code>  method.</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#@file: hello.py</span>
<span class="token keyword">import</span> fire


<span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_color <span class="token operator">=</span> color


    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> max_speed<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">"The {color} car is runing below the maximum speed {max_speed} mph!"</span>\
        <span class="token punctuation">.</span>format<span class="token punctuation">(</span>color<span class="token operator">=</span>self<span class="token punctuation">.</span>_color<span class="token punctuation">,</span> max_speed<span class="token operator">=</span>max_speed<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    fire<span class="token punctuation">.</span>Fire<span class="token punctuation">(</span>Car<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-bash"><code class="language-bash">$ python hello.py --color red run 100
The red car is runing below the maximum speed 100 mph<span class="token operator">!</span>
$ python hello.py --color red run --max-speed<span class="token operator">=</span>100
The red car is runing below the maximum speed 100 mph<span class="token operator">!</span>
$ python hello.py --color red run --max_speed<span class="token operator">=</span>100
The red car is runing below the maximum speed 100 mph<span class="token operator">!</span>
$ python hello.py --color red run --max-speed 100
The red car is runing below the maximum speed 100 mph<span class="token operator">!</span>
$ python hello.py run --max-speed 100 --color red
The red car is runing below the maximum speed 100 mph<span class="token operator">!</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>From the above invocation example, you might found some interesting things.</p>
<ul>
<li>Hyphens and underscores (<code>-</code> and <code>_</code>) are interchangeable in member names and flag names.</li>
<li>The constructor’s arguments can come after the function’s arguments or before the function.</li>
<li>The equal sign between the flag name and its value is optional.</li>
</ul>
<hr>
<h5 id="Arguments-Separator"><a href="#Arguments-Separator" class="headerlink" title="Arguments Separator"></a>Arguments Separator</h5><p>Normally, the arguments passed to a function are fixed, so you can append the further operations on the results, This is the chaining function call rule that are introduced before. But when your arguments are variable, the further operations( i.e. function)  on the results will be treated as an another argument that passed to the function. So, you need to an extra syntax to separate the arguments and the operations on the results. The default separator in <strong>fire</strong>  is the hyphens <code>-</code> , you can change the default separator using <code>--separator</code>  flags. Flags are alway separated from your Fire command by an isolated <code>--</code>. All arguments after the separator will be used to process the result of the function, rather than being passed to the function itself. Here’s an example will show how it works.</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#@file: hello.py</span>
<span class="token keyword">import</span> fire


<span class="token keyword">def</span> <span class="token function">sort_animals</span><span class="token punctuation">(</span><span class="token operator">*</span>animals<span class="token punctuation">)</span><span class="token punctuation">:</span>
    sorted_items <span class="token operator">=</span> sorted<span class="token punctuation">(</span>animals<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> item<span class="token punctuation">:</span> len<span class="token punctuation">(</span>str<span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token string">' > '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>sorted_items<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    fire<span class="token punctuation">.</span>Fire<span class="token punctuation">(</span>sort_animals<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-bash"><code class="language-bash">$ python hello.py <span class="token function">cat</span> dog pig chicken
<span class="token function">cat</span> <span class="token operator">></span> dog <span class="token operator">></span> pig <span class="token operator">></span> chicken
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>If we want to convert all animal’s name characters to the uppercase, how to do that? </p>
<pre class="line-numbers language-bash"><code class="language-bash">$ python hello.py <span class="token function">cat</span> dog pig chicken upper
<span class="token function">cat</span> <span class="token operator">></span> dog <span class="token operator">></span> pig <span class="token operator">></span> upper <span class="token operator">></span> chicken
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>As you see the above output result, it didn’t work! Hey, don’t forget thing mentioned just now:<strong>Separator</strong>.</p>
<pre class="line-numbers language-bash"><code class="language-bash">$ python hello.py <span class="token function">cat</span> dog pig chicken - upper
CAT <span class="token operator">></span> DOG <span class="token operator">></span> PIG <span class="token operator">></span> CHICKEN
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Congratulations! it do works. </p>
<pre class="line-numbers language-bash"><code class="language-bash">$ python hello.py <span class="token function">cat</span> dog pig chicken X upper -- --separator X
CAT <span class="token operator">></span> DOG <span class="token operator">></span> PIG <span class="token operator">></span> CHICKEN
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>The above code also work fine! Here you just change the default separator the hyphens <code>-</code> to <code>X</code>.</p>
<h4 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h4><p><a href="https://github.com/google/python-fire/blob/master/docs/guide.md" target="_blank" rel="external">[1] :The Python Fire Guide</a></p>
<p><a href="https://github.com/google/python-fire" target="_blank" rel="external">[2] : README</a></p>

    </div>
    <hr />

    <h2>Share and comment</h2>
    <div class="social-share"></div>
    
        <div id="disqus_thread"></div>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    

    
    
</article>
  </div>

  <footer class='footer'>
    <div class='footer-logo'>
        <span>infinite.ft</span>
    </div>
    <div class='footer-social'>
        
        
            
                
                    <div class='footer-social-item'><a href='https://www.facebook.com/huang.biao.77' target='_blank' title='Find me on facebook' ><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a></div>
                
            
                
                    <div class='footer-social-item'><a href='https://twitter.com/19941222hb' target='_blank' title='Find me on twitter' ><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a></div>
                
            
                
                    <div class='footer-social-item'><a href='mailto:infinite.ft@gmail.com' target='_blank' title='Find me on mail' ><i class="fa fa-mail fa-2x" aria-hidden="true"></i></a></div>
                
            
        
    </div>
    <p> Copyright by <a href="">@infinite.ft</a> in 2018</p>
    <p> Icons by <a href="http://www.freepik.com" title="Freepik">Freepik</a> from <a href="http://www.flaticon.com" title="Flaticon">Flaticon</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0</a></p>
    <p>Theme <a href="http://qutang.github.io/2017/06/27/Hexo-theme-cutie/">Cutie 1.0.0</a> | Powered by <a href="http://hexo.io">Hexo.</a></p>
</footer>

  <br>

  <div id="footer-menu-container">
		<nav class="menu">
	
		
	
	<div class='menu-item grow'>
		<div class='menu-icon'>
			<a href="/archives/">
			<img src="/images/archive.svg" alt="">
			</a>
		</div>
		<div class="menu-name">
			<a class='menu-link' href="/archives/">
				<span>Archives</span>
			</a>
		</div>
	</div>
	
	
		
		
			<div class='menu-item grow'>
			
				<div class='menu-icon'>
				<a href="/">
					<img src="/images/home.svg" alt="">
					</a>
					</div>
					
					<div class="menu-name">
						<a class='menu-link' href="/">
							<span>Home</span>
						</a>
					</div>
				</a>
			</div>
		
	
	<div class='menu-item grow'>
		<div class='menu-icon'>
			<a href="/search/">
			<img src="/images/search.svg" alt="">
			</a>
		</div>
		<div class="menu-name">
			<a class='menu-link' href="/search/">
				<span>Search</span>
			</a>
		</div>
	</div>
</nav>

	</div>

  <script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://qutang-github-io.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>

<script src="/js/lightgallery.min.js"></script>
<script type='text/javascript'>
    lightGallery(document.getElementById('lightgallery'));
</script>

<script data-no-instant type='text/javascript'>
changeLayoutOnTouchScreen();
setVersionForCurrentPage();
setVersionBadgeForIndexPages();
</script>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
