<!DOCTYPE html><html lang="en,zh-cn,default"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Matplotlib Dynamic Plotting · Infinite.ft的博客</title><meta name="description" content="Matplotlib Dynamic Plotting - infinite.ft"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://free-free.github.io/atom.xml" title="Infinite.ft的博客"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">HOME</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/categories/math" target="_self" class="nav-list-link">MATH</a></li><li class="nav-list-item"><a href="/categories/tech" target="_self" class="nav-list-link">TECH</a></li><li class="nav-list-item"><a href="/categories/mylife" target="_self" class="nav-list-link">NOTES</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Matplotlib Dynamic Plotting</h1><div class="post-info">Sep 4, 2018</div><div class="post-content"><p>As a powerful plotting library, Matplotlib is desired to produce publication quality figures in various formats and interactive environments across platforms. Addition to  the static figures plotting, Matplotlib is also  designed to plot dynamic figures using <code>animation</code>  module , in this post the several dynamic plotting  examples are illustrated, it’s supposed to present you with the basic working principles of Matplotlib dynamic plotting.</p>
<h3 id="Example1-Dynamic-Sinusoid-Plotting"><a href="#Example1-Dynamic-Sinusoid-Plotting" class="headerlink" title="Example1: Dynamic Sinusoid Plotting"></a>Example1: Dynamic Sinusoid Plotting</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding:utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div><div class="line"><span class="keyword">from</span> matplotlib.animation <span class="keyword">import</span> FuncAnimation</div><div class="line"></div><div class="line"><span class="comment"># Create a new plot</span></div><div class="line">fig, ax = plt.subplots()</div><div class="line">xdata = []</div><div class="line">ydata = []</div><div class="line"><span class="comment"># Plot a line with `xdata` as x-axis value and `ydata` as y-axis value.</span></div><div class="line"><span class="comment"># For more detals about `plot`, please refer to https://matplotlib.org/2.2.3/api/_as_gen/matplotlib.pyplot.plot.html#matplotlib.pyplot.plot</span></div><div class="line">line, = ax.plot(xdata, ydata, <span class="string">'b-'</span>, animated=<span class="keyword">False</span>)</div><div class="line"></div><div class="line"><span class="comment"># This function servers as the initiation process for dynamic plotting.</span></div><div class="line"><span class="comment"># As can be seen from the folloing code snippet, it will be passed into </span></div><div class="line"><span class="comment"># the `FuncAnimation` as an argument.</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">animation_init</span><span class="params">()</span>:</span></div><div class="line">  ax.set_xlim(<span class="number">0</span>, <span class="number">2</span> * np.pi)</div><div class="line">  ax.set_ylim(<span class="number">-1.1</span>, <span class="number">1.1</span>)</div><div class="line">  <span class="keyword">return</span> line, </div><div class="line"></div><div class="line"><span class="comment"># This function is responsible for updateing x-axis values and y-axis values while </span></div><div class="line"><span class="comment"># there is new data being generated.</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">animation_update</span><span class="params">(x)</span>:</span></div><div class="line">  xdata.append(x)</div><div class="line">  ydata.apend(np.sin(x))</div><div class="line">  line.set_data(xdata, ydata)</div><div class="line">  <span class="keyword">return</span> line, </div><div class="line"></div><div class="line"><span class="comment"># For more optional parameters of `FuncAnimation`,please check the official </span></div><div class="line"><span class="comment"># documentation. https://matplotlib.org/2.2.3/api/_as_gen/matplotlib.animation.FuncAnimation.html#matplotlib.animation.FuncAnimation</span></div><div class="line">animation = FuncAnimation(fig, animation_update, </div><div class="line">                          frames=np.linspace(<span class="number">0</span>,<span class="number">2</span> * np.pi, <span class="number">200</span>),</div><div class="line">                          init=animation_init,</div><div class="line">                          blit=<span class="keyword">True</span></div><div class="line">                         )</div><div class="line"><span class="comment"># https://matplotlib.org/2.2.3/api/_as_gen/matplotlib.animation.FuncAnimation.html#matplotlib.animation.FuncAnimation</span></div><div class="line">animation.save(<span class="string">'./sin.gif'</span>, writer=<span class="string">'imagemagick'</span>, fps=<span class="number">32</span>)</div><div class="line">plt.show()</div></pre></td></tr></table></figure>
<p>The figure 1 shows the dynamic plotting result of the above code.</p>
<p><img src="https://myblog-1255943365.cos.ap-chengdu.myqcloud.com/images/sin.gif" alt="sin"></p>
<center>Fig. 1.   dynamic sinusoid plotting </center>



<hr>
<h3 id="Example2-Dynamic-sinusoid-dot-plotting"><a href="#Example2-Dynamic-sinusoid-dot-plotting" class="headerlink" title="Example2 : Dynamic sinusoid dot plotting"></a>Example2 : Dynamic sinusoid dot plotting</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding:utf-8 -*-</span></div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div><div class="line"><span class="keyword">from</span> matplotlib.animation <span class="keyword">import</span> FuncAnimation</div><div class="line"></div><div class="line"></div><div class="line">fig, ax = plt.subplots()</div><div class="line">x = np.linspace(<span class="number">0</span>, <span class="number">2</span> * np.pi, <span class="number">200</span>)</div><div class="line">y = np.sin(x)</div><div class="line">line = ax.plot(x, y)</div><div class="line">dot, = ax.plot([], [], <span class="string">'ro'</span>)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">initiate_animation</span><span class="params">()</span>:</span></div><div class="line">  ax.set_xlim(<span class="number">0</span>, <span class="number">2</span> * np.pi)</div><div class="line">  ax.set_ylim(<span class="number">-1.1</span>, <span class="number">1.1</span>)</div><div class="line">  <span class="keyword">return</span> dot, </div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">genrate_dot_data</span><span class="params">()</span>:</span></div><div class="line">  <span class="keyword">for</span> x <span class="keyword">in</span> np.linspace(<span class="number">0</span>, <span class="number">2</span> * np.pi):</div><div class="line">    new_dot = [x, np.sin(x)]</div><div class="line">    <span class="keyword">yield</span> new_dot</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_animattion</span><span class="params">(new_dot)</span>:</span></div><div class="line">  dot.set_data(new_dot[<span class="number">0</span>], new_dot[<span class="number">1</span>])</div><div class="line">  <span class="keyword">return</span> dot,</div><div class="line"></div><div class="line">dot_animation = FuncAnimation(fig, update_animation, frames=generate_dot_data, interval=<span class="number">100</span>, init_func=initiate_animation)</div><div class="line">dot_animation.save(<span class="string">'./sin_dot.gif'</span>, writer=<span class="string">'imagemagick'</span>, fps=<span class="number">25</span>)</div><div class="line">plt.show()</div></pre></td></tr></table></figure>
<p>The figure 2 shows the plotting result</p>
<p><img src="https://myblog-1255943365.cos.ap-chengdu.myqcloud.com/images/sin_dot.gif" alt=""></p>
<center>Fig. 2. dynamic sinusoid dot plotting</center>



















</div></article></div></main><footer><div class="paginator"><a href="/2018/09/09/a-collection-of-heuristic-articles-about-some-complicated-and-cryptic-concepts/" class="prev">PREV</a><a href="/2018/08/18/install-chrome-and-firefox-on-ubuntu16-04/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2018 <a href="https://free-free.github.io">infinite.ft</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>